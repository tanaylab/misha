<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Applies a function to values of track expressions — gintervals.mapply • misha</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Applies a function to values of track expressions — gintervals.mapply"><meta property="og:description" content="Applies a function to values of track expressions for each interval."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">misha</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">5.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Database-Formats.html">Database Formats and Multi-Contig Support</a>
    </li>
    <li>
      <a href="../articles/Genomes.html">Genomes</a>
    </li>
    <li>
      <a href="../articles/Manual.html">Manual</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/tanaylab/misha/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Applies a function to values of track expressions</h1>
    <small class="dont-index">Source: <a href="https://github.com/tanaylab/misha/blob/master/R/intervals-tracks.R" class="external-link"><code>R/intervals-tracks.R</code></a></small>
    <div class="hidden name"><code>gintervals.mapply.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Applies a function to values of track expressions for each interval.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">gintervals.mapply</span><span class="op">(</span></span>
<span>  FUN <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  intervals <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  enable.gapply.intervals <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  iterator <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  band <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  intervals.set.out <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  colnames <span class="op">=</span> <span class="st">"value"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-fun">FUN<a class="anchor" aria-label="anchor" href="#arg-fun"></a></dt>
<dd><p>function to apply, found via 'match.fun'</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>track expressions whose values are used as arguments for 'FUN'</p></dd>


<dt id="arg-intervals">intervals<a class="anchor" aria-label="anchor" href="#arg-intervals"></a></dt>
<dd><p>intervals for which track expressions are calculated</p></dd>


<dt id="arg-enable-gapply-intervals">enable.gapply.intervals<a class="anchor" aria-label="anchor" href="#arg-enable-gapply-intervals"></a></dt>
<dd><p>if 'TRUE', then a variable 'GAPPLY.INTERVALS'
is available</p></dd>


<dt id="arg-iterator">iterator<a class="anchor" aria-label="anchor" href="#arg-iterator"></a></dt>
<dd><p>track expression iterator. If 'NULL' iterator is determined
implicitly based on track expressions.</p></dd>


<dt id="arg-band">band<a class="anchor" aria-label="anchor" href="#arg-band"></a></dt>
<dd><p>track expression band. If 'NULL' no band is used.</p></dd>


<dt id="arg-intervals-set-out">intervals.set.out<a class="anchor" aria-label="anchor" href="#arg-intervals-set-out"></a></dt>
<dd><p>intervals set name where the function result is
optionally outputted</p></dd>


<dt id="arg-colnames">colnames<a class="anchor" aria-label="anchor" href="#arg-colnames"></a></dt>
<dd><p>name of the column that contains the return values of 'FUN'.
Default is "value".</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>If 'intervals.set.out' is 'NULL' a data frame representing intervals
with an additional column that contains the return values of 'FUN'. The name
of this additional column is specified by the 'colnames' parameter.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>This function evaluates track expressions for each interval from
'intervals'. The resulted vectors are passed then as arguments to 'FUN'.</p>
<p>If the intervals are one-dimensional and have an additional column named
'strand' whose value is '-1', the values of the track expression are placed
to the vector in reverse order.</p>
<p>The current interval index (1-based) is stored in 'GAPPLY.INTERVID' variable
that is available during the execution of 'gintervals.mapply'. There is no
guarantee about the order in which the intervals are processed. Do not rely
on any specific order and use 'GITERATOR.INTERVID' variable to detect the
current interval id.</p>
<p>If 'enable.gapply.intervals' is 'TRUE', an additional variable
'GAPPLY.INTERVALS' is defined during the execution of 'gintervals.mapply'.
This variable stores the current iterator intervals prior to track
expression evaluation. Please note that setting 'enable.gapply.intervals' to
'TRUE' might severely affect the run-time of the function.</p>
<p>Note: all the changes made in R environment by 'FUN' will be void if
multitasking mode is switched on. One should also refrain from performing
any other operations in 'FUN' that might be not "thread-safe" such as
updating files, etc. Please switch off multitasking ('options(gmultitasking
= FALSE)') if you wish to perform such operations.</p>
<p>If 'intervals.set.out' is not 'NULL' the result is saved as an intervals
set. Use this parameter if the result size exceeds the limits of the
physical memory.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="https://rdrr.io/r/base/mapply.html" class="external-link">mapply</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="gdb.init.html">gdb.init_examples</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">gintervals.mapply</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">max</span>, <span class="st">"dense_track"</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="gintervals.html">gintervals</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, <span class="fl">0</span>, <span class="fl">10000</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   chrom start   end value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  chr1     0 10000  0.26</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  chr2     0 10000  0.44</span>
<span class="r-in"><span><span class="fu">gintervals.mapply</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>        <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">x</span> <span class="op">+</span> <span class="va">y</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">}</span>, <span class="st">"dense_track"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"sparse_track"</span>, <span class="fu"><a href="gintervals.html">gintervals</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, <span class="fl">0</span>, <span class="fl">10000</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    iterator <span class="op">=</span> <span class="st">"sparse_track"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   chrom start   end value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  chr1     0 10000  0.78</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  chr2     0 10000  0.96</span>
<span class="r-in"><span><span class="co"># Using custom column name</span></span></span>
<span class="r-in"><span><span class="fu">gintervals.mapply</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">max</span>, <span class="st">"dense_track"</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="gintervals.html">gintervals</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, <span class="fl">0</span>, <span class="fl">10000</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    colnames <span class="op">=</span> <span class="st">"max_value"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   chrom start   end max_value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  chr1     0 10000      0.26</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  chr2     0 10000      0.44</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Misha Hoichman, Aviezer Lifshitz, Eitan Yaffe, Amos Tanay.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

      </footer></div>






  </body></html>

