<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Creates a cartesian-grid iterator — giterator.cartesian_grid • misha</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">misha</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">Home</a>
</li>
<li>
  <a href="../articles/manual.Rnw">
    <span class="fa fa-stethoscope"></span>
     
    User Manual
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-th-list"></span>
     
    Reference
  </a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://bitbucket.org/aviezerl/misha-package">
    <span class="fa fa-bitbucket-square"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Creates a cartesian-grid iterator</h1>
    </div>

    
    <p>Creates a cartesian grid two-dimensional iterator that can be used by any function that accepts an iterator argument.</p>
    

    <pre class="usage"><span class='fu'>giterator.cartesian_grid</span>(<span class='no'>intervals1</span>, <span class='no'>expansion1</span>,
                         <span class='kw'>intervals2</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>expansion2</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
                         <span class='kw'>min.band.idx</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>max.band.idx</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>intervals1</th>
      <td><p>one-dimensional intervals</p></td>
    </tr>
    <tr>
      <th>expansion1</th>
      <td><p>an array of integers that define expansion around intervals1 centers</p></td>
    </tr>
    <tr>
      <th>intervals2</th>
      <td><p>one-dimensional intervals. If 'NULL' then 'intervals2' is considered to be equal to 'intervals1'</p></td>
    </tr>
    <tr>
      <th>expansion2</th>
      <td><p>an array of integers that define expansion around intervals2 centers. If 'NULL' then 'expansion2' is considered to be equal to 'expansion1'</p></td>
    </tr>
    <tr>
      <th>min.band.idx, max.band.idx</th>
      <td><p>integers that limit iterator intervals to band</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function creates and returns a cartesian grid two-dimensional iterator that can be used by any function that accepts an iterator argument.</p>
<p>Assume 'centers1' and 'centers2' to be the central points of each interval from 'intervals1' and 'intervals2', and 'C1', 'C2' to be two points from 'centers1', 'centers2' accordingly. Assume also that the values in 'expansion1' and 'expansion2' are unique and sorted.</p>
<p>'giterator.cartesian_grid' creates a set of all possible unique and non-overlapping two-dimensional intervals of form: '(chrom1, start1, end1, chrom2, start2, end2)'. Each '(chrom1, start1, end1)' is created by taking a point 'C1' - '(chrom1, coord1)' and converting it to 'start1' and 'end1' such that 'start1 == coord1+E1[i]', 'end1 == coord1+E1[i+1]', where 'E1[i]' is one of the sorted 'expansion1' values. Overlaps between rectangles or expansion beyond the limits of chromosome are avoided.</p>
<p>'min.band.idx' and 'max.band.idx' parameters control whether a pair of 'C1' and 'C2' is skipped or not. If both of these parameters are not 'NULL' AND if both 'C1' and 'C2' share the same chromosome AND the delta of indices of 'C1' and 'C2' ('C1 index - C2 index') lays within '[min.band.idx, max.band.idx]' range - only then the pair will be used to create the intervals. Otherwise 'C1-C2' pair is filtered out. Note: if 'min.band.idx' and 'max.band.idx' are not 'NULL', i.e. band indices filtering is applied, then 'intervals2' parameter must be set to 'NULL'.</p>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list containing the definition of cartesian iterator.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code><a href='giterator.intervals.html'>giterator.intervals</a></code></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>gdb.init_examples</span>()

<span class='no'>intervs1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='gintervals.html'>gintervals</a></span>(<span class='fu'>c</span>(<span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>2</span>), <span class='fu'>c</span>(<span class='fl'>100</span>, <span class='fl'>300</span>, <span class='fl'>200</span>),
                       <span class='fu'>c</span>(<span class='fl'>300</span>, <span class='fl'>500</span>, <span class='fl'>300</span>))
<span class='no'>intervs2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='gintervals.html'>gintervals</a></span>(<span class='fu'>c</span>(<span class='fl'>1</span>, <span class='fl'>2</span>, <span class='fl'>2</span>), <span class='fu'>c</span>(<span class='fl'>400</span>, <span class='fl'>1000</span>, <span class='fl'>3000</span>),
                       <span class='fu'>c</span>(<span class='fl'>800</span>, <span class='fl'>2000</span>, <span class='fl'>4000</span>))
<span class='no'>itr</span> <span class='kw'>&lt;-</span> <span class='fu'>giterator.cartesian_grid</span>(<span class='no'>intervs1</span>, <span class='fu'>c</span>(-<span class='fl'>20</span>, <span class='fl'>100</span>), <span class='no'>intervs2</span>,
                                <span class='fu'>c</span>(-<span class='fl'>40</span>, -<span class='fl'>10</span>, <span class='fl'>50</span>))
<span class='fu'><a href='giterator.intervals.html'>giterator.intervals</a></span>(<span class='kw'>iterator</span> <span class='kw'>=</span> <span class='no'>itr</span>)</div><div class='output co'>#&gt;    chrom1 start1 end1 chrom2 start2 end2
#&gt; 1    chr1    180  300   chr1    560  590
#&gt; 2    chr1    180  300   chr1    590  650
#&gt; 3    chr1    380  500   chr1    560  590
#&gt; 4    chr1    380  500   chr1    590  650
#&gt; 5    chr1    180  300   chr2   1460 1490
#&gt; 6    chr1    180  300   chr2   1490 1550
#&gt; 7    chr1    180  300   chr2   3460 3490
#&gt; 8    chr1    180  300   chr2   3490 3550
#&gt; 9    chr1    380  500   chr2   1460 1490
#&gt; 10   chr1    380  500   chr2   1490 1550
#&gt; 11   chr1    380  500   chr2   3460 3490
#&gt; 12   chr1    380  500   chr2   3490 3550
#&gt; 13   chr2    230  350   chr1    560  590
#&gt; 14   chr2    230  350   chr1    590  650
#&gt; 15   chr2    230  350   chr2   1460 1490
#&gt; 16   chr2    230  350   chr2   1490 1550
#&gt; 17   chr2    230  350   chr2   3460 3490
#&gt; 18   chr2    230  350   chr2   3490 3550</div><div class='input'>
<span class='no'>itr</span> <span class='kw'>&lt;-</span> <span class='fu'>giterator.cartesian_grid</span>(<span class='no'>intervs1</span>, <span class='fu'>c</span>(-<span class='fl'>20</span>, <span class='fl'>50</span>, <span class='fl'>100</span>))
<span class='fu'><a href='giterator.intervals.html'>giterator.intervals</a></span>(<span class='kw'>iterator</span> <span class='kw'>=</span> <span class='no'>itr</span>)</div><div class='output co'>#&gt;    chrom1 start1 end1 chrom2 start2 end2
#&gt; 1    chr1    180  250   chr1    180  250
#&gt; 2    chr1    180  250   chr1    250  300
#&gt; 3    chr1    250  300   chr1    180  250
#&gt; 4    chr1    250  300   chr1    250  300
#&gt; 5    chr1    180  250   chr1    380  450
#&gt; 6    chr1    180  250   chr1    450  500
#&gt; 7    chr1    250  300   chr1    380  450
#&gt; 8    chr1    250  300   chr1    450  500
#&gt; 9    chr1    380  450   chr1    180  250
#&gt; 10   chr1    380  450   chr1    250  300
#&gt; 11   chr1    450  500   chr1    180  250
#&gt; 12   chr1    450  500   chr1    250  300
#&gt; 13   chr1    380  450   chr1    380  450
#&gt; 14   chr1    380  450   chr1    450  500
#&gt; 15   chr1    450  500   chr1    380  450
#&gt; 16   chr1    450  500   chr1    450  500
#&gt; 17   chr1    180  250   chr2    230  300
#&gt; 18   chr1    180  250   chr2    300  350
#&gt; 19   chr1    250  300   chr2    230  300
#&gt; 20   chr1    250  300   chr2    300  350
#&gt; 21   chr1    380  450   chr2    230  300
#&gt; 22   chr1    380  450   chr2    300  350
#&gt; 23   chr1    450  500   chr2    230  300
#&gt; 24   chr1    450  500   chr2    300  350
#&gt; 25   chr2    230  300   chr1    180  250
#&gt; 26   chr2    230  300   chr1    250  300
#&gt; 27   chr2    300  350   chr1    180  250
#&gt; 28   chr2    300  350   chr1    250  300
#&gt; 29   chr2    230  300   chr1    380  450
#&gt; 30   chr2    230  300   chr1    450  500
#&gt; 31   chr2    300  350   chr1    380  450
#&gt; 32   chr2    300  350   chr1    450  500
#&gt; 33   chr2    230  300   chr2    230  300
#&gt; 34   chr2    230  300   chr2    300  350
#&gt; 35   chr2    300  350   chr2    230  300
#&gt; 36   chr2    300  350   chr2    300  350</div><div class='input'>
<span class='no'>itr</span> <span class='kw'>&lt;-</span> <span class='fu'>giterator.cartesian_grid</span>(<span class='no'>intervs1</span>, <span class='fu'>c</span>(-<span class='fl'>20</span>, <span class='fl'>50</span>, <span class='fl'>100</span>),
                                <span class='kw'>min.band.idx</span> <span class='kw'>=</span> -<span class='fl'>1</span>,
                                <span class='kw'>max.band.idx</span> <span class='kw'>=</span> <span class='fl'>0</span>)
<span class='fu'><a href='giterator.intervals.html'>giterator.intervals</a></span>(<span class='kw'>iterator</span> <span class='kw'>=</span> <span class='no'>itr</span>)</div><div class='output co'>#&gt;    chrom1 start1 end1 chrom2 start2 end2
#&gt; 1    chr1    180  250   chr1    180  250
#&gt; 2    chr1    180  250   chr1    250  300
#&gt; 3    chr1    250  300   chr1    180  250
#&gt; 4    chr1    250  300   chr1    250  300
#&gt; 5    chr1    180  250   chr1    380  450
#&gt; 6    chr1    180  250   chr1    450  500
#&gt; 7    chr1    250  300   chr1    380  450
#&gt; 8    chr1    250  300   chr1    450  500
#&gt; 9    chr1    380  450   chr1    380  450
#&gt; 10   chr1    380  450   chr1    450  500
#&gt; 11   chr1    450  500   chr1    380  450
#&gt; 12   chr1    450  500   chr1    450  500
#&gt; 13   chr2    230  300   chr2    230  300
#&gt; 14   chr2    230  300   chr2    300  350
#&gt; 15   chr2    300  350   chr2    230  300
#&gt; 16   chr2    300  350   chr2    300  350</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#value">Value</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Misha Hoichman.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
