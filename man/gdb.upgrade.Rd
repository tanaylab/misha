% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/db.R
\name{gdb.upgrade}
\alias{gdb.upgrade}
\title{Upgrade Database to Indexed Genome Format}
\usage{
gdb.upgrade(
  groot = NULL,
  remove_old_files = FALSE,
  interactive = TRUE,
  validate = TRUE
)
}
\arguments{
\item{groot}{Root directory of the database to upgrade. If NULL, uses the currently active database.}

\item{remove_old_files}{Logical. If TRUE, removes old per-chromosome .seq files after successful upgrade. Default: FALSE.}

\item{interactive}{Logical. If TRUE, prompts for confirmation before upgrading. Default: TRUE.}

\item{validate}{Logical. If TRUE, validates the upgrade by comparing sequences. Default: TRUE.}
}
\value{
Invisible NULL
}
\description{
Upgrades a legacy per-chromosome database to the new indexed genome format
with a single consolidated genome.seq file and genome.idx index.
}
\details{
This function converts a legacy database (with per-chromosome .seq files) to
the new indexed format (single genome.seq + genome.idx). The indexed format
provides better performance and supports arbitrary chromosome naming.

The upgrade process:
\enumerate{
  \item Checks if database is already in indexed format
  \item Reads existing chromosome information from chrom_sizes.txt
  \item Consolidates all per-chromosome .seq files into genome.seq
  \item Creates genome.idx with CRC64 checksum
  \item Optionally validates the upgrade
  \item Optionally removes old .seq files
}
}
\examples{
\dontrun{
# Upgrade current database
gdb.upgrade()

# Upgrade specific database
gdb.upgrade(groot = "/path/to/database")

# Upgrade and remove old files
gdb.upgrade(remove_old_files = TRUE)
}

}
\seealso{
\code{\link{gdb.create}}, \code{\link{gdb.init}}
}
